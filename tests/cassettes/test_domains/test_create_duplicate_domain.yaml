interactions:
- request:
    body: '{"name": "Test Domain"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Basic bWVybGluOg
      Connection:
      - keep-alive
      Content-Length:
      - '23'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
      X-Trino-User:
      - merlin
    method: POST
    uri: https://starburst.ottensa.dev/api/v1/dataProduct/domains
  response:
    body:
      string: '{"message":"Attempt to add duplicate data","errorCode":"DUPLICATE_DATA","metadata":{"details":"org.jdbi.v3.core.statement.UnableToExecuteStatementException:
        org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique
        constraint \"data_domain_unique\"\n  Detail: Key (name)=(Test Domain) already
        exists. [statement:\"INSERT INTO data_domain (id, name, description, created_by,
        created_at, updated_at, updated_by, schema_location) VALUES (:id, :name, :description,
        :createdBy, :createdAt, :updatedAt, :updatedBy, :schemaLocation)\", arguments:{positional:{},
        named:{}, finder:[{lazy bean property arguments \"DataDomainRecord{id=8c1b14e8-3051-4982-a1d6-83ce8db47b91,
        name=\u0027Test Domain\u0027, description=Optional.empty, createdBy=merlin,
        createdAt=2023-08-16T10:29:03.117353129Z, updatedAt=2023-08-16T10:29:03.117353129Z,
        updatedBy=\u0027merlin\u0027, schemaLocation=Optional.empty}\"}]}]"}}

        '
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 7f78fe797ce09220-FRA
      Connection:
      - keep-alive
      Content-Length:
      - '913'
      Content-Type:
      - application/json
      Date:
      - Wed, 16 Aug 2023 10:29:03 GMT
      NEL:
      - '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}'
      Report-To:
      - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v3?s=CFq5yIvBrVAxJUKQVUrZW7BL1qWLop0%2FY%2BO8sANAf3buWtAD16cyoBBdYlzI2z%2B5FxKsAQMjg6E2KjIRVRrCBDYEWjAqVV1eM14FphfDuYIdywv1cC9KdR1g%2BlWfbEJf7gItIk3nTV8%3D"}],"group":"cf-nel","max_age":604800}'
      Server:
      - cloudflare
      X-Content-Type-Options:
      - nosniff
      X-Insights-Error-Message:
      - Attempt to add duplicate data
      alt-svc:
      - h3=":443"; ma=86400
    status:
      code: 409
      message: Conflict
version: 1
